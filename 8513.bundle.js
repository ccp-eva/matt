"use strict";(self.webpackChunkmatt=self.webpackChunkmatt||[]).push([[8513],{8513:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var n=a(6358),d=a(6486),o=a.n(d),i=a(9965),r=a(7103),l=a(8503),c=a(1489);const s=async()=>{(0,c.TH)(o().kebabCase(data.currentSlide),o().kebabCase(data.previousSlide));let e=!1;[data.companionOrder,data.foodOrder,data.controlOrder].forEach((t=>{const a=t.length-1;t.indexOf(o().kebabCase(data.currentSlide))!==a||(e=!0)}));const t=document.getElementById("player");n.p8.set(t,{autoAlpha:0});const a="sc1h10h",d="oneHuman",s="tenHumans",u=document.getElementById(`link-${a}-headphones`),m=document.getElementById("audio"),p=document.getElementById(`${a}-${d}`),v=document.getElementById(`${a}-cantDecide`),E=document.getElementById(`${a}-${s}`);n.p8.set([p,v,E,u],{opacity:.5,pointerEvents:"none"}),await(0,i.bA)(`./cultures/${data.culture}/audio/${a}-1h-left.mp3`),await(0,i.bA)(`./cultures/${data.culture}/audio/saving.mp3`),n.p8.set([p,v,E,u],{opacity:1,pointerEvents:"visible"}),m.addEventListener("play",(()=>{n.p8.set([u,p,v,E],{autoAlpha:.25,pointerEvents:"none"})})),m.addEventListener("ended",(()=>{n.p8.to([u,p,v,E],{autoAlpha:1,pointerEvents:"visible"})})),(0,i.hY)(`./cultures/${data.culture}/audio/${a}-1h-left.mp3`,u.id),[p,v,E].forEach((e=>{e.classList.add("dilemma-card")}));let y=await(0,r.c)([`${a}-${d}`,`${a}-cantDecide`,`${a}-${s}`]);for(;"g"!==y.tagName;)y=y.parentElement;if(console.log(y.id),data.procedure[data.currentSlide].response=y.id,e&&!data.dilemmaMotivationTwoPlayed){t.addEventListener("play",(()=>{e=!0})),t.addEventListener("ended",(()=>{e=!1}));let e=!0;for(n.p8.timeline().to(t,{autoAlpha:1,duration:2,onStart:()=>{!1===data.dilemmaMotivationOnePlayed?(t.src=`./cultures/${data.culture}/video/motivation-dilemma1.webm`,data.dilemmaMotivationOnePlayed=!0):(t.src=`./cultures/${data.culture}/video/motivation-dilemma2.webm`,data.dilemmaMotivationTwoPlayed=!0)}});e;)await(0,l._v)(100);n.p8.to(t,{autoAlpha:0})}await(0,l._v)(500)}},7103:(e,t,a)=>{a.d(t,{c:()=>n});const n=e=>new Promise((t=>{const a=e=>{const a=e.target;return t(a)};"string"==typeof e&&document.getElementById(e).addEventListener("click",a,{once:!0}),Array.isArray(e)&&e.forEach((e=>{document.getElementById(e).addEventListener("click",a,{once:!0})})),void 0===e&&document.getElementById("wrapper").addEventListener("click",a,{once:!0})}))}}]);