"use strict";(self.webpackChunkmatt=self.webpackChunkmatt||[]).push([[9712],{9712:(t,e,a)=>{a.r(e),a.d(e,{default:()=>m});var o=a(6358),n=a(6486),d=a.n(n),r=a(5919),i=a(5212),s=a.n(i),l=a(9965),u=a(7103),c=a(8503),p=a(1489);const m=async()=>{data.reasoningSlideCounter++;{const t=document.getElementById("sr1cat1cow-wr"),e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");[...t.attributes].map((({name:t,value:a})=>e.setAttribute(t,a))),e.removeAttribute("fill"),t.replaceWith(e),e.innerHTML='\n\t\t\t<div id="response-wrapper-reasoning-cow" style="margin-top: -5px;">\n\t\t\t<div id="toggle-cow" style="width: 9em; margin: 0 auto; margin-bottom: 10px">\n\t\t\t\t<input id="chck-cow" type="checkbox" />\n\t\t\t\t<label for="chck-cow" class="check-trail" style="scale: 0.8;"><span class="check-handler"></span> </label>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<textarea\n\t\t\t\t\tdisabled\n\t\t\t\t\tid="text-response-cow"\n\t\t\t\t\tmaxlength="2000"\n\t\t\t\t\trows="3"\n\t\t\t\t\tstyle="display: block; pointer-events: auto; height: 100%"\n\t\t\t\t\t></textarea>\n\t\t\t\t<div id="voice-response-cow" style="display: flex;">\n\t\t\t\t\t<button type="button" disabled id="voice-response-start-cow" style="font-size: 2rem; margin: 7% auto; pointer-events: auto; opacity: 1; visibility: inherit;">ðŸŽ¤ Start</button> <button type="button" disabled id="voice-response-stop-cow" style="font-size: 2rem; margin: 7% auto; pointer-events: auto; opacity: 1; visibility: inherit;">ðŸ›‘ Stop</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t'}const t=document.getElementById("sr1cat1cow-oneCow"),e=document.getElementById("sr1cat1cow-cantDecide"),a=document.getElementById("sr1cat1cow-oneCat"),n=document.getElementById("link-sr1cat1cow-next"),i=document.getElementById("link-sr1cat1cow-headphones"),m=document.getElementById("audio"),y=document.getElementById("player"),v=document.getElementById("text-response-cow"),w=document.getElementById("voice-response-cow"),g=document.getElementById("voice-response-start-cow"),h=document.getElementById("voice-response-stop-cow"),b=document.getElementById("toggle-cow"),x=document.querySelector(".check-trail"),E=document.getElementById("chck-cow");n.style.pointerEvents="none",x.style.pointerEvents="none",o.p8.set([n,x],{autoAlpha:.25}),o.p8.set(y,{autoAlpha:0}),data.procedure[data.currentSlide]={duration:0,input:data.input,textInput:"",isText:!1,isVoice:!1,voiceExplanation:!1,textExplanation:!1},"text"===data.input&&(b.style.visibility="hidden",w.style.display="none"),"audio"===data.input&&(E.click(),b.style.visibility="hidden",v.style.display="none",w.style.display="flex"),"userchoice-audio"===data.input&&(E.click(),v.style.display="none",w.style.display="flex"),"userchoice-text"===data.input&&(v.style.display="block",w.style.display="none"),data.procedure[data.currentSlide].voiceExplanation=E.checked,data.procedure[data.currentSlide].textExplanation=!E.checked;let S=!1,C=!1,k=!0;data.procedure.sC1Ca1Co&&(C=data.procedure.sC1Ca1Co.response.toLowerCase().includes("-onecat"),S=data.procedure.sC1Ca1Co.response.toLowerCase().includes("-onecow"),k=data.procedure.sC1Ca1Co.response.toLowerCase().includes("-cantdecide")),document.querySelectorAll("g [id^=sr] foreignObject p.dilemma").forEach((t=>{t.classList.add("dilemma__reasoning")})),S&&t.classList.add("dilemma-card-fix"),k&&e.classList.add("dilemma-card-fix"),C&&a.classList.add("dilemma-card-fix"),o.p8.set("#response-wrapper-reasoning-cow",{autoAlpha:0}),(0,p.TH)(d().kebabCase(data.currentSlide),d().kebabCase(data.previousSlide)),await(0,l.bA)(`./cultures/${data.culture}/audio/sr1cat1cow-cat-right.mp3`),C&&(await(0,l.bA)(`./cultures/${data.culture}/audio/srw-cat.mp3`),(0,l.hY)(`./cultures/${data.culture}/audio/srw-cat.mp3`,i.id)),k&&(await(0,l.bA)(`./cultures/${data.culture}/audio/srw-cantDecide.mp3`),(0,l.hY)(`./cultures/${data.culture}/audio/srw-cantDecide.mp3`,i.id)),S&&(await(0,l.bA)(`./cultures/${data.culture}/audio/srw-cow.mp3`),(0,l.hY)(`./cultures/${data.culture}/audio/srw-cow.mp3`,i.id)),o.p8.to("#response-wrapper-reasoning-cow",{autoAlpha:1});let A=!0,f=!0;for(o.p8.timeline().to(y,{autoAlpha:1,onStart:()=>{f=!0,E.checked&&(1===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/prompt-audioInput-start-speaking-buttons.webm`,o.p8.timeline().to(g,{filter:"drop-shadow(0px 0px 20px #969696)",delay:8,repeat:3,yoyo:!0,reversed:!0}).to(h,{filter:"drop-shadow(0px 0px 20px #969696)",delay:1.5,repeat:3,yoyo:!0,reversed:!0})),2===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/sr-prompt-audioInput.webm`),3===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/audio-input-3.webm`)),E.checked||(1===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/s-ex-next-red-textInput.webm`),2===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/sr-promp-textInput.webm`),3===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/text-input-3.webm`))},onComplete:()=>{f=!1}}),y.addEventListener("play",(()=>{A=!0})),y.addEventListener("ended",(()=>{A=!1}));A||f;)await(0,c._v)(100);o.p8.to(y,{onStart:()=>{y.src=`./cultures/${data.culture}/video/pinda-neutral-listening.webm`,y.loop=!0}}),o.p8.to(x,{autoAlpha:1}),x.style.pointerEvents="auto",v.disabled=!1,g.disabled=!1,m.addEventListener("play",(()=>{x.style.pointerEvents="none",o.p8.set(x,{autoAlpha:.25})})),m.addEventListener("ended",(()=>{x.style.pointerEvents="auto",o.p8.set(x,{autoAlpha:1})})),E.addEventListener("change",(async()=>{const t=E.checked,e=!E.checked;if(t&&(v.style.display="none",w.style.display="flex"),e&&(v.style.display="block",w.style.display="none"),t&&!data.procedure[data.currentSlide].voiceExplanation){data.procedure[data.currentSlide].voiceExplanation=!0,g.disabled=!0,x.style.pointerEvents="none",i.style.pointerEvents="none",o.p8.set([n,x],{autoAlpha:.25}),y.loop=!1;let t=!0;for(o.p8.timeline().to(y,{onStart:()=>{1===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/prompt-audioInput-start-speaking-buttons.webm`,o.p8.timeline().to(g,{filter:"drop-shadow(0px 0px 20px #969696)",delay:8,repeat:3,yoyo:!0,reversed:!0}).to(h,{filter:"drop-shadow(0px 0px 20px #969696)",delay:1.5,repeat:3,yoyo:!0,reversed:!0})),2===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/sr-prompt-audioInput.webm`),3===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/audio-input-3.webm`)},onComplete:()=>{t=!1}});A||t;)await(0,c._v)(100);g.disabled=!1,o.p8.to(x,{autoAlpha:1}),x.style.pointerEvents="auto",i.style.pointerEvents="auto",o.p8.timeline().to(y,{autoAlpha:0}).to(y,{autoAlpha:1,onStart:()=>{y.src=`./cultures/${data.culture}/video/pinda-neutral-listening.webm`,y.loop=!0}})}if(e&&!data.procedure[data.currentSlide].textExplanation){data.procedure[data.currentSlide].textExplanation=!0,v.disabled=!0,x.style.pointerEvents="none",i.style.pointerEvents="none",o.p8.set(x,{autoAlpha:.25});let t=!0;for(y.loop=!1,o.p8.timeline().to(y,{onStart:()=>{1===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/s-ex-next-red-textInput.webm`),2===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/sr-promp-textInput.webm`),3===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/text-input-3.webm`)},onComplete:()=>{t=!1}});A||t;)await(0,c._v)(100);v.disabled=!1,o.p8.to(x,{autoAlpha:1}),x.style.pointerEvents="auto",i.style.pointerEvents="auto",o.p8.timeline().to(y,{autoAlpha:0}).to(y,{autoAlpha:1,onStart:()=>{y.src=`./cultures/${data.culture}/video/pinda-neutral-listening.webm`,y.loop=!0}})}})),v.addEventListener("input",(()=>{v.value.length>=r.Z.globals.minimumTextInputLength?(data.procedure[data.currentSlide].isText=!0,data.procedure[data.currentSlide].isVoice=!1,n.style.pointerEvents="auto",x.style.pointerEvents="none",o.p8.timeline().to(n,{autoAlpha:1,duration:.25}).to(x,{autoAlpha:.25,duration:.25},"<")):(n.style.pointerEvents="none",x.style.pointerEvents="auto",o.p8.timeline().to(n,{autoAlpha:.25}).to(x,{autoAlpha:1,duration:.25},"<"))})),g.addEventListener("click",(async()=>{data.procedure[data.currentSlide].isText=!1,data.procedure[data.currentSlide].isVoice=!0;let t=await navigator.mediaDevices.getUserMedia({audio:!0}),e=new(s().RecordRTCPromisesHandler)(t,{type:"audio"});e.startRecording(),g.disabled=!0,h.disabled=!1,x.style.pointerEvents="none",o.p8.set(x,{autoAlpha:.25}),h.addEventListener("click",(async()=>{await e.stopRecording();let t=await e.getBlob();(0,c.vw)(t,(0,c.Dz)("matt","s-reasoning-1ca-1co","ogg")),s().invokeSaveAsDialog(t,`${data.currentSlide}-${data.id}`),n.style.pointerEvents="auto",o.p8.timeline().to(n,{autoAlpha:1}),g.disabled=!1,h.disabled=!0,x.style.pointerEvents="auto",o.p8.set(x,{autoAlpha:1})}))}));const I=await(0,u.c)(n.id);for(console.log(I.id),data.procedure[data.currentSlide].textInput=v.value,console.log(data.procedure[data.currentSlide].textInput),data.procedure[data.currentSlide].response=I.id,y.loop=!1,o.p8.to(y,{onStart:()=>{y.src=`./cultures/${data.culture}/video/sr-react-${data.reasoningSlideCounter}.webm`}});A;)await(0,c._v)(100);o.p8.to(y,{autoAlpha:0}),await(0,c._v)(500)}},7103:(t,e,a)=>{a.d(e,{c:()=>o});const o=t=>new Promise((e=>{const a=t=>{const a=t.target;return e(a)};"string"==typeof t&&document.getElementById(t).addEventListener("click",a,{once:!0}),Array.isArray(t)&&t.forEach((t=>{document.getElementById(t).addEventListener("click",a,{once:!0})})),void 0===t&&document.getElementById("wrapper").addEventListener("click",a,{once:!0})}))}}]);