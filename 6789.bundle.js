"use strict";(self.webpackChunkmatt=self.webpackChunkmatt||[]).push([[6789],{6789:(t,a,e)=>{e.r(a),e.d(a,{default:()=>p});var r=e(6358),o=e(2354),u=e(6486),d=e.n(u),l=e(9965),i=e(8503),c=e(1489);r.p8.registerPlugin(o._);const p=async({currentSlide:t,previousSlide:a})=>{(0,c.TH)(t,a,[0,0]);const e=document.getElementById("link-sbp-ball"),u=document.getElementById("sbp-inner"),p=document.getElementById("sbp-middle"),n=document.getElementById("sbp-outer"),s=document.getElementById("audio"),m=document.getElementById("link-s-bp-headphones");r.p8.set([u,p,n,e],{opacity:.5}),r.p8.set(m,{autoAlpha:0});let h=!1;s.addEventListener("play",(()=>{h=!0})),s.addEventListener("ended",(()=>{h=!1}));const B=d().shuffle(["inner","middle","outer"]);data.procedure.sBallPractice={duration:0,addExplanationCount:0,completed:!1,order:B,inner:"",middle:"",outer:""},await(0,l.bA)(`./cultures/${data.culture}/audio/s-ball-practice.mp3`),await(0,l.bA)(`./cultures/${data.culture}/audio/sbp-expl.mp3`);let b=!1,g=!1;for(let t=0;t<B.length&&!(data.procedure.sBallPractice.addExplanationCount>3);t++){r.p8.to([u,p,n],{opacity:.5}),r.p8.to(e,{x:0,y:0,duration:.25,scale:1,opacity:.5}),r.p8.to(m,{autoAlpha:0});const a=B[t];for(;h;)await(0,i._v)(100);if(console.log(a),b){b=!1,g=!0,r.p8.timeline().to(m,{autoAlpha:0}),await(0,l.bA)(`./cultures/${data.culture}/audio/sbp-fail.mp3`),(0,l.hY)(`./cultures/${data.culture}/audio/sbp-repeat-rules.mp3`);const t={inner:{"de-urban":3,"pe-rural":4,"idj-urban":4,"nam-rural":4.5,"zm-rural":6},middle:{"de-urban":2.1,"pe-rural":3.5,"idj-urban":3.5,"nam-rural":5.5,"zm-rural":8.5},outer:{"de-urban":2,"pe-rural":2.75,"idj-urban":3,"nam-rural":5.2,"zm-rural":11}};await r.p8.timeline().to(u,{delay:t.inner[data.culture],autoAlpha:1,repeat:2}).to(u,{autoAlpha:.5}).to(p,{delay:t.middle[data.culture],autoAlpha:1,repeat:2}).to(p,{autoAlpha:.5}).to(n,{delay:t.outer[data.culture],autoAlpha:1,repeat:2,reversed:!0}).to(n,{autoAlpha:.5})}(0,l.hY)(`./cultures/${data.culture}/audio/sbp-${a}.mp3`,m.id),await(0,l.bA)(`./cultures/${data.culture}/audio/sbp-${a}.mp3`),r.p8.to(e,{opacity:1}),r.p8.to(m,{autoAlpha:1});const c=u.getBBox().width/2,s=p.getBBox().width/2,y=n.getBBox().width/2,x=u.getBBox().x+c,w=u.getBBox().y+c,P=o._.create(e,{onDrag:function(){const t=this.target,a=t.getBBox(),e=t.getBBox().height/2,o=t.getBBox().width/2;let d=a.x+o+this.x,l=a.y+e+this.y;const i=Math.sqrt(Math.pow(d-x,2)+Math.pow(l-w,2));1.22*i<=c+o&&(r.p8.to(u,{opacity:1}),r.p8.to([p,n],{opacity:.5})),1.22*i<=s+o&&1.22*i>c+o&&(r.p8.to(p,{opacity:1}),r.p8.to([u,n],{opacity:.5})),1.22*i<=y+o&&1.22*i>s+o&&(r.p8.to(n,{opacity:1}),r.p8.to([u,p],{opacity:.5}),r.p8.to(this.target,{scale:.5,transformOrigin:"50% 50%"})),1.22*i>y+o&&(r.p8.to(this.target,{scale:1,transformOrigin:"50% 50%"}),r.p8.to([u,p,n],{opacity:.5}))},onDragEnd:function(){const e=this.target,o=e.id;console.log(o);const i=e.getBBox(),m=e.getBBox().height/2,B=e.getBBox().width/2;let $=i.x+B+this.x,f=i.y+m+this.y;const A=Math.sqrt(Math.pow($-x,2)+Math.pow(f-w,2));1.22*A<=c+B&&(P[0].disable(),r.p8.to(u,{opacity:.5,duration:.25}),data.procedure.sBallPractice[a]="inner",2===t&&"inner"===a&&(g=!1,h=!0,(0,l.hY)(`./cultures/${data.culture}/audio/sbp-resp3.mp3`)),t<2&&"inner"===a&&(g=!1,h=!0,(0,l.hY)(`./cultures/${data.culture}/audio/sbp-resp${d().random(1,2)}.mp3`)),"inner"!==a&&(data.procedure.sBallPractice.addExplanationCount++,b=!0,g=!1,data.procedure.sBallPractice[a],t-=1)),1.22*A<=s+B&&1.22*A>c+B&&(P[0].disable(),r.p8.to(p,{opacity:.5,duration:.25}),data.procedure.sBallPractice[a]="middle",2===t&&"middle"===a&&(g=!1,h=!0,(0,l.hY)(`./cultures/${data.culture}/audio/sbp-resp3.mp3`)),t<2&&"middle"===a&&(g=!1,h=!0,(0,l.hY)(`./cultures/${data.culture}/audio/sbp-resp${d().random(1,2)}.mp3`)),"middle"!==a&&(data.procedure.sBallPractice.addExplanationCount++,b=!0,g=!1,data.procedure.sBallPractice[a],t-=1)),1.22*A<=y+B&&1.22*A>s+B&&(P[0].disable(),r.p8.to(n,{opacity:.5,duration:.25}),data.procedure.sBallPractice[a]="outer",2===t&&"outer"===a&&(g=!1,h=!0,(0,l.hY)(`./cultures/${data.culture}/audio/sbp-resp3.mp3`)),t<2&&"outer"===a&&(g=!1,h=!0,(0,l.hY)(`./cultures/${data.culture}/audio/sbp-resp${d().random(1,2)}.mp3`)),"outer"!==a&&(data.procedure.sBallPractice.addExplanationCount++,b=!0,g=!1,data.procedure.sBallPractice[a],t-=1)),1.22*A>y+B&&r.p8.to(e,{x:0,y:0})}});for(;""===data.procedure.sBallPractice[a]||g;)await(0,i._v)(500)}for(data.procedure.sBallPractice.inner&&data.procedure.sBallPractice.middle&&data.procedure.sBallPractice.outer&&(data.procedure.sBallPractice.completed=!0);h;)await(0,i._v)(100)}}}]);