"use strict";(self.webpackChunkmatt=self.webpackChunkmatt||[]).push([[6789],{6789:(t,e,a)=>{a.r(e),a.d(e,{default:()=>c});var o=a(6358),r=a(2354),d=a(6486),l=a.n(d),p=a(9965),i=a(8503),u=a(1489);o.p8.registerPlugin(r._);const c=async({currentSlide:t,previousSlide:e})=>{(0,u.TH)(t,e,[0,0]);const a=document.getElementById("link-sbp-ball"),d=document.getElementById("sbp-inner"),c=document.getElementById("sbp-middle"),s=document.getElementById("sbp-outer"),n=document.getElementById("audio"),h=document.getElementById("link-s-bp-headphones");o.p8.set([d,c,s],{opacity:.5}),o.p8.set(h,{autoAlpha:0});let B=!1;n.addEventListener("play",(()=>{B=!0})),n.addEventListener("ended",(()=>{B=!1}));const m=l().shuffle(["inner","middle","outer"]);data.procedure.sBallPractice={duration:0,addExplanationCount:0,completed:!1,order:m,inner:"",middle:"",outer:""};let g=!1,y=!1;for(let t=0;t<m.length;t++){o.p8.to([d,c,s],{opacity:.5}),o.p8.to(a,{x:0,y:0,duration:.25,scale:1,opacity:.5}),o.p8.to(h,{autoAlpha:0});const e=m[t];for(;B;)await(0,i._v)(100);console.log(e),g&&(g=!1,y=!0,o.p8.timeline().to(h,{autoAlpha:0}),await(0,p.bA)(`./cultures/${data.culture}/audio/sbp-fail.mp3`),(0,p.hY)(`./cultures/${data.culture}/audio/sbp-repeat-rules.mp3`),await o.p8.timeline().to(d,{delay:3,autoAlpha:1,repeat:2}).to(d,{autoAlpha:.5}).to(c,{delay:2.5,autoAlpha:1,repeat:2}).to(c,{autoAlpha:.5}).to(s,{delay:1.75,autoAlpha:1,repeat:2,reversed:!0}).to(s,{autoAlpha:.5})),(0,p.hY)(`./cultures/${data.culture}/audio/sbp-${e}.mp3`,h.id),await(0,p.bA)(`./cultures/${data.culture}/audio/sbp-${e}.mp3`),o.p8.to(a,{opacity:1}),o.p8.to(h,{autoAlpha:1});const u=d.getBBox().width/2,n=c.getBBox().width/2,b=s.getBBox().width/2,x=d.getBBox().x+u,w=d.getBBox().y+u,P=r._.create(a,{onDrag:function(){const t=this.target,e=t.getBBox(),a=t.getBBox().height/2,r=t.getBBox().width/2;let l=e.x+r+this.x,p=e.y+a+this.y;const i=Math.sqrt(Math.pow(l-x,2)+Math.pow(p-w,2));1.22*i<=u+r&&(o.p8.to(d,{opacity:1}),o.p8.to([c,s],{opacity:.5})),1.22*i<=n+r&&1.22*i>u+r&&(o.p8.to(c,{opacity:1}),o.p8.to([d,s],{opacity:.5})),1.22*i<=b+r&&1.22*i>n+r&&(o.p8.to(s,{opacity:1}),o.p8.to([d,c],{opacity:.5}),o.p8.to(this.target,{scale:.5,transformOrigin:"50% 50%"})),1.22*i>b+r&&(o.p8.to(this.target,{scale:1,transformOrigin:"50% 50%"}),o.p8.to([d,c,s],{opacity:.5}))},onDragEnd:function(){const a=this.target,r=a.id;console.log(r);const i=a.getBBox(),h=a.getBBox().height/2,B=a.getBBox().width/2;let m=i.x+B+this.x,$=i.y+h+this.y;const f=Math.sqrt(Math.pow(m-x,2)+Math.pow($-w,2));1.22*f<=u+B&&(P[0].disable(),o.p8.to(d,{opacity:.5,duration:.25}),data.procedure.sBallPractice[e]="inner",2===t&&"inner"===e&&(y=!1,(0,p.hY)(`./cultures/${data.culture}/audio/sbp-resp3.mp3`)),t<2&&"inner"===e&&(y=!1,(0,p.hY)(`./cultures/${data.culture}/audio/sbp-resp${l().random(1,2)}.mp3`)),"inner"!==e&&(data.procedure.sBallPractice.addExplanationCount++,g=!0,y=!1,data.procedure.sBallPractice[e],t-=1)),1.22*f<=n+B&&1.22*f>u+B&&(P[0].disable(),o.p8.to(c,{opacity:.5,duration:.25}),data.procedure.sBallPractice[e]="middle",2===t&&"middle"===e&&(y=!1,(0,p.hY)(`./cultures/${data.culture}/audio/sbp-resp3.mp3`)),t<2&&"middle"===e&&(y=!1,(0,p.hY)(`./cultures/${data.culture}/audio/sbp-resp${l().random(1,2)}.mp3`)),"middle"!==e&&(data.procedure.sBallPractice.addExplanationCount++,g=!0,y=!1,data.procedure.sBallPractice[e],t-=1)),1.22*f<=b+B&&1.22*f>n+B&&(P[0].disable(),o.p8.to(s,{opacity:.5,duration:.25}),data.procedure.sBallPractice[e]="outer",2===t&&"outer"===e&&(y=!1,(0,p.hY)(`./cultures/${data.culture}/audio/sbp-resp3.mp3`)),t<2&&"outer"===e&&(y=!1,(0,p.hY)(`./cultures/${data.culture}/audio/sbp-resp${l().random(1,2)}.mp3`)),"outer"!==e&&(data.procedure.sBallPractice.addExplanationCount++,g=!0,y=!1,data.procedure.sBallPractice[e],t-=1)),1.22*f>b+B&&o.p8.to(a,{x:0,y:0})}});for(;""===data.procedure.sBallPractice[e]||y;)await(0,i._v)(500)}for(data.procedure.sBallPractice.inner&&data.procedure.sBallPractice.middle&&data.procedure.sBallPractice.outer&&(data.procedure.sBallPractice.completed=!0);B;)await(0,i._v)(100)}}}]);