"use strict";(self.webpackChunkmatt=self.webpackChunkmatt||[]).push([[6514],{6514:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var o=n(6358),i=n(9965),a=n(1489),d=n(7103),l=n(8503),s=n(5919);const r=async({currentSlide:e,previousSlide:t})=>{(0,a.TH)(e,t);const n=document.getElementById("audio"),r=document.getElementById("link-si-speaker"),p=document.getElementById("pinda"),u=document.getElementById("link-si-headphones"),c=document.getElementById("link-si-next"),y=document.getElementById("text-introChild"),v=document.getElementById("text-introAdult");o.p8.set([u,c],{autoAlpha:0,pointerEvents:"none"});const m=document.getElementById("s-blocking-state");m.removeAttribute("visibility");const E=await fetch(`./cultures/${data.culture}/video/s-introduction.${data.meta.videoExtension}`),h=await E.blob(),b=URL.createObjectURL(h);m.setAttribute("visibility","hidden"),"adult"===data.agegroup?o.p8.set(y,{autoAlpha:0}):o.p8.set(v,{autoAlpha:0});let A=!0;r.addEventListener("click",(()=>{s.Z.devmode.on||(0,l.LA)(),(0,i.hY)(`./cultures/${data.culture}/audio/pop.mp3`),o.p8.to(r,{autoAlpha:0}),(0,i.hY)(`./cultures/${data.culture}/audio/si-next-red.mp3`,u.id),n.addEventListener("play",(()=>{c.style.pointerEvents="none",u.style.pointerEvents="none",o.p8.set([c,u],{autoAlpha:.25})})),p.addEventListener("play",(()=>{c.style.pointerEvents="none",u.style.pointerEvents="none",A?o.p8.set([c,u],{autoAlpha:0}):o.p8.set([c,u],{autoAlpha:.5})})),n.addEventListener("ended",(()=>{A?(c.style.pointerEvents="none",u.style.pointerEvents="none",o.p8.to([c,u],{autoAlpha:0})):(c.style.pointerEvents="visible",u.style.pointerEvents="visible",o.p8.to([c,u],{autoAlpha:1}))})),p.addEventListener("ended",(()=>{c.style.pointerEvents="visible",u.style.pointerEvents="visible",o.p8.to([c,u],{autoAlpha:1}),o.p8.to(p,{autoAlpha:0})})),p.src=b,p.play(),o.p8.timeline().to(u,{autoAlpha:.5,delay:{"de-urban":16,"pe-rural":16,"idj-urban":21}[data.culture],duration:.5,opacity:1,visibility:"visible"}).to(u,{filter:"drop-shadow(0px 0px 14px #000)",delay:1,repeat:4,yoyo:!0,reversed:!0}).to(c,{autoAlpha:.5,delay:5,opacity:1,visibility:"visible",onComplete:()=>{A=!1}}).to(c,{filter:"drop-shadow(0px 0px 14px #a90707)",delay:1,repeat:-1,yoyo:!0,reversed:!0})})),await(0,d.c)(c.id)}},7103:(e,t,n)=>{n.d(t,{c:()=>o});const o=e=>new Promise((t=>{const n=e=>{const n=e.target;return t(n)};"string"==typeof e&&document.getElementById(e).addEventListener("click",n,{once:!0}),Array.isArray(e)&&e.forEach((e=>{document.getElementById(e).addEventListener("click",n,{once:!0})})),void 0===e&&document.getElementById("wrapper").addEventListener("click",n,{once:!0})}))}}]);