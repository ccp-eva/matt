"use strict";(self.webpackChunkmatt=self.webpackChunkmatt||[]).push([[6514],{6514:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var i=n(6358),o=n(9965),s=n(1489),a=n(7103),d=n(8503),l=n(5919);const r=async({currentSlide:e,previousSlide:t})=>{(0,s.TH)(e,t);const n=document.getElementById("player"),r=document.getElementById("audio"),p=document.getElementById("link-si-speaker"),c=document.getElementById("player"),u=document.getElementById("link-si-headphones"),y=document.getElementById("link-si-next");i.p8.set([u,y],{autoAlpha:0,pointerEvents:"none"});const v=document.getElementById("s-blocking-state");v.removeAttribute("visibility");const m=await fetch(`./cultures/${data.culture}/video/s-introduction.webm`),E=await m.blob(),h=URL.createObjectURL(E);v.setAttribute("visibility","hidden");let b=!0;p.addEventListener("click",(()=>{l.Z.devmode.on||(0,d.LA)(),i.p8.to(p,{autoAlpha:0}),(0,o.hY)(`./cultures/${data.culture}/audio/si-next-red.mp3`,u.id),r.addEventListener("play",(()=>{y.style.pointerEvents="none",u.style.pointerEvents="none",i.p8.set([y,u],{autoAlpha:.25})})),n.addEventListener("play",(()=>{y.style.pointerEvents="none",u.style.pointerEvents="none",b?i.p8.set([y,u],{autoAlpha:0}):i.p8.set([y,u],{autoAlpha:.5})})),r.addEventListener("ended",(()=>{y.style.pointerEvents="visible",u.style.pointerEvents="visible",i.p8.to([y,u],{autoAlpha:1})})),n.addEventListener("ended",(()=>{y.style.pointerEvents="visible",u.style.pointerEvents="visible",i.p8.to([y,u],{autoAlpha:1}),i.p8.to(c,{autoAlpha:0})})),c.src=h,i.p8.timeline().to(u,{autoAlpha:.5,delay:16,duration:.5,opacity:1,visibility:"visible"}).to(u,{filter:"drop-shadow(0px 0px 14px #000)",delay:1,repeat:3,yoyo:!0,reversed:!0}).to(y,{autoAlpha:.5,delay:5,opacity:1,visibility:"visible"}).to(y,{filter:"drop-shadow(0px 0px 14px #a90707)",delay:1,repeat:-1,yoyo:!0,reversed:!0,onComplete:()=>{b=!1}})})),await(0,a.c)(y.id)}},7103:(e,t,n)=>{n.d(t,{c:()=>i});const i=e=>new Promise((t=>{const n=e=>{const n=e.target;return t(n)};"string"==typeof e&&document.getElementById(e).addEventListener("click",n,{once:!0}),Array.isArray(e)&&e.forEach((e=>{document.getElementById(e).addEventListener("click",n,{once:!0})})),void 0===e&&document.getElementById("wrapper").addEventListener("click",n,{once:!0})}))}}]);