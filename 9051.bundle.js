"use strict";(self.webpackChunkmatt=self.webpackChunkmatt||[]).push([[9051],{9051:(t,e,a)=>{a.r(e),a.d(e,{default:()=>m});var n=a(6358),o=a(6486),d=a.n(o),r=a(5919),i=a(5212),s=a.n(i),l=a(9965),u=a(7103),c=a(8503),p=a(1489);const m=async()=>{data.reasoningSlideCounter++;{const t=document.getElementById("sr1h1cat-wr"),e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");[...t.attributes].map((({name:t,value:a})=>e.setAttribute(t,a))),e.removeAttribute("fill"),t.replaceWith(e),e.innerHTML='\n\t\t\t<div id="response-wrapper-reasoning-cat" style="margin-top: -5px;">\n\t\t\t<div id="toggle-cat" style="width: 9em; margin: 0 auto; margin-bottom: 10px">\n\t\t\t\t<input id="chck-cat" type="checkbox" />\n\t\t\t\t<label for="chck-cat" class="check-trail" style="scale: 0.8;"><span class="check-handler"></span> </label>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<textarea\n\t\t\t\t\tdisabled\n\t\t\t\t\tid="text-response-cat"\n\t\t\t\t\tmaxlength="2000"\n\t\t\t\t\trows="3"\n\t\t\t\t\tstyle="display: block; pointer-events: auto; height: 100%"\n\t\t\t\t\t></textarea>\n\t\t\t\t<div id="voice-response-cat" style="display: flex;">\n\t\t\t\t\t<button type="button" disabled id="voice-response-start-cat" style="font-size: 2rem; margin: 7% auto; pointer-events: auto; opacity: 1; visibility: inherit;">ðŸŽ¤ Start</button> <button type="button" disabled id="voice-response-stop-cat" style="font-size: 2rem; margin: 7% auto; pointer-events: auto; opacity: 1; visibility: inherit;">ðŸ›‘ Stop</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t'}const t=document.getElementById("sr1h1cat-oneHuman"),e=document.getElementById("sr1h1cat-cantDecide"),a=document.getElementById("sr1h1cat-oneCat"),o=document.getElementById("link-sr1h1cat-next"),i=document.getElementById("link-sr1h1cat-headphones"),m=document.getElementById("audio"),y=document.getElementById("player"),v=document.getElementById("text-response-cat"),h=document.getElementById("voice-response-cat"),g=document.getElementById("voice-response-start-cat"),b=document.getElementById("voice-response-stop-cat"),x=document.getElementById("toggle-cat"),E=document.querySelector(".check-trail"),w=document.getElementById("chck-cat");o.style.pointerEvents="none",E.style.pointerEvents="none",n.p8.set([o,E],{autoAlpha:.25}),n.p8.set(y,{autoAlpha:0}),data.procedure[data.currentSlide]={duration:0,input:data.input,textInput:"",isText:!1,isVoice:!1,voiceExplanation:!1,textExplanation:!1},"text"===data.input&&(x.style.visibility="hidden",h.style.display="none"),"audio"===data.input&&(w.click(),x.style.visibility="hidden",v.style.display="none",h.style.display="flex"),"userchoice-audio"===data.input&&(w.click(),v.style.display="none",h.style.display="flex"),"userchoice-text"===data.input&&(v.style.display="block",h.style.display="none"),data.procedure[data.currentSlide].voiceExplanation=w.checked,data.procedure[data.currentSlide].textExplanation=!w.checked;let S=!0,k=!1,A=!1;data.procedure.s1Hu1Ca&&(S=data.procedure.s1Hu1Ca.response.toLowerCase().includes("-onehuman"),k=data.procedure.s1Hu1Ca.response.toLowerCase().includes("-onecat"),A=data.procedure.s1Hu1Ca.response.toLowerCase().includes("-cantdecide")),document.querySelectorAll("g [id^=sr] foreignObject p.dilemma").forEach((t=>{t.classList.add("dilemma__reasoning")})),S&&t.classList.add("dilemma-card-fix"),A&&e.classList.add("dilemma-card-fix"),k&&a.classList.add("dilemma-card-fix"),n.p8.set("#response-wrapper-reasoning-cat",{autoAlpha:0}),(0,p.TH)(d().kebabCase(data.currentSlide),d().kebabCase(data.previousSlide)),await(0,l.bA)(`./cultures/${data.culture}/audio/sr1h1cat-left.mp3`),S&&(await(0,l.bA)(`./cultures/${data.culture}/audio/srw-human.mp3`),(0,l.hY)(`./cultures/${data.culture}/audio/srw-human.mp3`,i.id)),A&&(await(0,l.bA)(`./cultures/${data.culture}/audio/srw-cantDecide.mp3`),(0,l.hY)(`./cultures/${data.culture}/audio/srw-cantDecide.mp3`,i.id)),k&&(await(0,l.bA)(`./cultures/${data.culture}/audio/srw-cat.mp3`),(0,l.hY)(`./cultures/${data.culture}/audio/srw-cat.mp3`,i.id)),n.p8.to("#response-wrapper-reasoning-cat",{autoAlpha:1});let f=!0,C=!0;for(n.p8.timeline().to(y,{autoAlpha:1,onStart:()=>{C=!0,w.checked&&(1===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/prompt-audioInput-start-speaking-buttons.webm`,n.p8.timeline().to(g,{filter:"drop-shadow(0px 0px 20px #969696)",delay:8,repeat:3,yoyo:!0,reversed:!0}).to(b,{filter:"drop-shadow(0px 0px 20px #969696)",delay:1.5,repeat:3,yoyo:!0,reversed:!0})),2===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/sr-prompt-audioInput.webm`),3===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/audio-input-3.webm`)),w.checked||(1===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/s-ex-next-red-textInput.webm`),2===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/sr-promp-textInput.webm`),3===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/text-input-3.webm`))},onComplete:()=>{C=!1}}),y.addEventListener("play",(()=>{f=!0})),y.addEventListener("ended",(()=>{f=!1}));f||C;)await(0,c._v)(100);n.p8.to(y,{onStart:()=>{y.src=`./cultures/${data.culture}/video/pinda-neutral-listening.webm`,y.loop=!0}}),n.p8.to(E,{autoAlpha:1}),E.style.pointerEvents="auto",v.disabled=!1,g.disabled=!1,m.addEventListener("play",(()=>{E.style.pointerEvents="none",n.p8.set(E,{autoAlpha:.25})})),m.addEventListener("ended",(()=>{E.style.pointerEvents="auto",n.p8.set(E,{autoAlpha:1})})),w.addEventListener("change",(async()=>{const t=w.checked,e=!w.checked;if(t&&(v.style.display="none",h.style.display="flex"),e&&(v.style.display="block",h.style.display="none"),t&&!data.procedure[data.currentSlide].voiceExplanation){data.procedure[data.currentSlide].voiceExplanation=!0,g.disabled=!0,E.style.pointerEvents="none",i.style.pointerEvents="none",n.p8.set([o,E],{autoAlpha:.25}),y.loop=!1;let t=!0;for(n.p8.timeline().to(y,{onStart:()=>{1===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/prompt-audioInput-start-speaking-buttons.webm`,n.p8.timeline().to(g,{filter:"drop-shadow(0px 0px 20px #969696)",delay:8,repeat:3,yoyo:!0,reversed:!0}).to(b,{filter:"drop-shadow(0px 0px 20px #969696)",delay:1.5,repeat:3,yoyo:!0,reversed:!0})),2===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/sr-prompt-audioInput.webm`),3===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/audio-input-3.webm`)},onComplete:()=>{t=!1}});f||t;)await(0,c._v)(100);g.disabled=!1,n.p8.to(E,{autoAlpha:1}),E.style.pointerEvents="auto",i.style.pointerEvents="auto",n.p8.timeline().to(y,{autoAlpha:0}).to(y,{autoAlpha:1,onStart:()=>{y.src=`./cultures/${data.culture}/video/pinda-neutral-listening.webm`,y.loop=!0}})}if(e&&!data.procedure[data.currentSlide].textExplanation){data.procedure[data.currentSlide].textExplanation=!0,v.disabled=!0,E.style.pointerEvents="none",i.style.pointerEvents="none",n.p8.set(E,{autoAlpha:.25});let t=!0;for(y.loop=!1,n.p8.timeline().to(y,{onStart:()=>{1===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/s-ex-next-red-textInput.webm`),2===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/sr-promp-textInput.webm`),3===data.reasoningSlideCounter&&(y.src=`./cultures/${data.culture}/video/text-input-3.webm`)},onComplete:()=>{t=!1}});f||t;)await(0,c._v)(100);v.disabled=!1,n.p8.to(E,{autoAlpha:1}),E.style.pointerEvents="auto",i.style.pointerEvents="auto",n.p8.timeline().to(y,{autoAlpha:0}).to(y,{autoAlpha:1,onStart:()=>{y.src=`./cultures/${data.culture}/video/pinda-neutral-listening.webm`,y.loop=!0}})}})),v.addEventListener("input",(()=>{v.value.length>=r.Z.globals.minimumTextInputLength?(data.procedure[data.currentSlide].isText=!0,data.procedure[data.currentSlide].isVoice=!1,o.style.pointerEvents="auto",E.style.pointerEvents="none",n.p8.timeline().to(o,{autoAlpha:1,duration:.25}).to(E,{autoAlpha:.25,duration:.25},"<")):(o.style.pointerEvents="none",E.style.pointerEvents="auto",n.p8.timeline().to(o,{autoAlpha:.25}).to(E,{autoAlpha:1,duration:.25},"<"))})),g.addEventListener("click",(async()=>{data.procedure[data.currentSlide].isText=!1,data.procedure[data.currentSlide].isVoice=!0;let t=await navigator.mediaDevices.getUserMedia({audio:!0}),e=new(s().RecordRTCPromisesHandler)(t,{type:"audio"});e.startRecording(),g.disabled=!0,b.disabled=!1,E.style.pointerEvents="none",n.p8.set(E,{autoAlpha:.25}),b.addEventListener("click",(async()=>{await e.stopRecording();let t=await e.getBlob();s().invokeSaveAsDialog(t,`${data.currentSlide}-${data.id}`),o.style.pointerEvents="auto",n.p8.timeline().to(o,{autoAlpha:1}),g.disabled=!1,b.disabled=!0,E.style.pointerEvents="auto",n.p8.set(E,{autoAlpha:1})}))}));const I=await(0,u.c)(o.id);for(console.log(I.id),data.procedure[data.currentSlide].textInput=v.value,console.log(data.procedure[data.currentSlide].textInput),data.procedure[data.currentSlide].response=I.id,y.loop=!1,n.p8.to(y,{onStart:()=>{y.src=`./cultures/${data.culture}/video/sr-react-${data.reasoningSlideCounter}.webm`}});f;)await(0,c._v)(100);n.p8.to(y,{autoAlpha:0}),await(0,c._v)(500)}},7103:(t,e,a)=>{a.d(e,{c:()=>n});const n=t=>new Promise((e=>{const a=t=>{const a=t.target;return e(a)};"string"==typeof t&&document.getElementById(t).addEventListener("click",a,{once:!0}),Array.isArray(t)&&t.forEach((t=>{document.getElementById(t).addEventListener("click",a,{once:!0})})),void 0===t&&document.getElementById("wrapper").addEventListener("click",a,{once:!0})}))}}]);