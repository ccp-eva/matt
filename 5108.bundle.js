"use strict";(self.webpackChunkmatt=self.webpackChunkmatt||[]).push([[5108],{5108:(t,e,i)=>{i.r(e),i.d(e,{default:()=>c});var r=i(6486),d=i.n(r),a=i(6358),o=i(2354),u=i(9965),s=i(8503),n=i(7103),l=i(1489);a.p8.registerPlugin(o._);const c=async({currentSlide:t,previousSlide:e})=>{(0,l.TH)(t,e),data.rankingSlideCounter++;const i="sqrf",r="sqrp-sqrf-resp",c="idj-chicken",p="idj-cat",h="idj-human",m=document.getElementById("audio"),y=document.getElementById(`link-${i}-idj-headphones`),g=document.getElementById("text-notAtAll_00000034086607361783012620000016937234837571816583_").children[0],f=document.getElementById("text-aLittle_00000079484795470931998930000007177168248432206496_").children[0],A=document.getElementById("text-aMediumAmount_00000055687162818100924840000012724335636348725684_").children[0],E=document.getElementById("text-aLot_00000178204565529490187320000005512947286619289774_").children[0],$=document.getElementById(`${i}-idj-1`),x=$.getAttribute("fill"),b=document.getElementById(`${i}-idj-2`),v=b.getAttribute("fill"),S=document.getElementById(`${i}-idj-3`),B=S.getAttribute("fill"),I=document.getElementById(`${i}-idj-4`),k=I.getAttribute("fill"),T=document.getElementById(`link-${i}-${c}`),L=document.getElementById(`link-${i}-${p}`),w=document.getElementById(`link-${i}-${h}`),_=document.getElementById(`link-${i}-idj-next`),j=(new Map).set(0,{x:700,y:330}).set(1,{x:960,y:330}).set(2,{x:1220,y:330}),P=d().shuffle([c,p,h]),Y=P.map((t=>document.getElementById(`link-${i}-${t}`)));data.procedure[data.currentSlide]={response:"",order:P,duration:0,[c]:{position:0,coords:{x:0,y:0}},[p]:{position:0,coords:{x:0,y:0}},[h]:{position:0,coords:{x:0,y:0}}};const q={[c]:P.indexOf(c),[p]:P.indexOf(p),[h]:P.indexOf(h)};(0,s.PA)(Y[0],j.get(0).x,j.get(0).y),(0,s.PA)(Y[1],j.get(1).x,j.get(1).y),(0,s.PA)(Y[2],j.get(2).x,j.get(2).y),a.p8.set([g,f,A,E,$,b,S,I,_],{autoAlpha:0}),a.p8.set(Y,{transformOrigin:"50% 50%"}),a.p8.set([Y,y],{autoAlpha:.5}),y.style.pointerEvents="none",await(0,u.bA)(`./cultures/${data.culture}/audio/${i}.mp3`),a.p8.timeline().to([$,g],{autoAlpha:1}).to([b,f],{delay:1.5,autoAlpha:1}).to([S,A],{delay:1,autoAlpha:1}).to([I,E],{delay:.8,autoAlpha:1}),await(0,u.bA)(`./cultures/${data.culture}/audio/${r}.mp3`),(0,u.hY)(`./cultures/${data.culture}/audio/${i}.mp3`,y.id),1===data.rankingSlideCounter&&await(0,u.bA)(`./cultures/${data.culture}/audio/sqr-expl.mp3`),a.p8.to([T,L,w,y],{autoAlpha:1}),y.style.pointerEvents="visible";let C=!1;m.addEventListener("play",(t=>{C=!0,t.target.src.includes(`${i}-`)||a.p8.to([T,L,w,y],{autoAlpha:.5,pointerEvents:"none"})})),m.addEventListener("ended",(()=>{C=!1,a.p8.to([T,L,w,y],{autoAlpha:1,pointerEvents:"visible"})})),[$,b,S,I].forEach(((t,e)=>{t.addEventListener("click",(()=>{(0,u.hY)(`./cultures/${data.culture}/audio/${r}-${e}.mp3`)}))})),[$,b,S,I].forEach((t=>{t.addEventListener("mouseover",(()=>{t.setAttribute("fill","#c6d325"),t.style.cursor="pointer"}))})),[$,b,S,I].forEach((t=>{t.addEventListener("mouseout",(()=>{t.style.cursor="default"}))})),$.addEventListener("mouseout",(()=>{$.setAttribute("fill",x)})),b.addEventListener("mouseout",(()=>{b.setAttribute("fill",v)})),S.addEventListener("mouseout",(()=>{S.setAttribute("fill",B)})),I.addEventListener("mouseout",(()=>{I.setAttribute("fill",k)})),o._.create([T,L,w],{onPress:function(){let t=this.target.id.slice(10);(0,u.hY)(`./cultures/${data.culture}/audio/${i}-${t}.mp3`)},onDrag:function(){this.hitTest($,"70%")?($.setAttribute("fill","#c6d325"),a.p8.to(this.target,{scale:.5})):$.setAttribute("fill",x),this.hitTest(b,"70%")?(b.setAttribute("fill","#c6d325"),a.p8.to(this.target,{scale:.5})):b.setAttribute("fill",v),this.hitTest(S,"70%")?(S.setAttribute("fill","#c6d325"),a.p8.to(this.target,{scale:.5})):S.setAttribute("fill",B),this.hitTest(I,"70%")?(I.setAttribute("fill","#c6d325"),a.p8.to(this.target,{scale:.5})):I.setAttribute("fill",k),this.hitTest($,"70%")||this.hitTest(b,"70%")||this.hitTest(S,"70%")||this.hitTest(I,"70%")||a.p8.to(this.target,{scale:1})},onDragEnd:function(){const t=this.target,e=t.id.slice(10),i=q[e],d=a.p8.getProperty(t,"x"),o=a.p8.getProperty(t,"y");console.log(e),console.log(i),this.hitTest($,"70%")&&(data.procedure[data.currentSlide][e].position=1,data.procedure[data.currentSlide][e].coords.x=d,data.procedure[data.currentSlide][e].coords.y=o,$.setAttribute("fill",x),(0,u.hY)(`./cultures/${data.culture}/audio/${r}-0.mp3`)),this.hitTest(b,"70%")&&(data.procedure[data.currentSlide][e].position=2,data.procedure[data.currentSlide][e].coords.x=d,data.procedure[data.currentSlide][e].coords.y=o,b.setAttribute("fill",v),(0,u.hY)(`./cultures/${data.culture}/audio/${r}-1.mp3`)),this.hitTest(S,"70%")&&(data.procedure[data.currentSlide][e].position=3,data.procedure[data.currentSlide][e].coords.x=d,data.procedure[data.currentSlide][e].coords.y=o,S.setAttribute("fill",B),(0,u.hY)(`./cultures/${data.culture}/audio/${r}-2.mp3`)),this.hitTest(I,"70%")&&(data.procedure[data.currentSlide][e].position=4,data.procedure[data.currentSlide][e].coords.x=d,data.procedure[data.currentSlide][e].coords.y=o,I.setAttribute("fill",k),(0,u.hY)(`./cultures/${data.culture}/audio/${r}-3.mp3`)),this.hitTest($,"70%")||this.hitTest(b,"70%")||this.hitTest(S,"70%")||this.hitTest(I,"70%")||(0===data.procedure[data.currentSlide][e].position?a.p8.to(t,{x:j.get(i).x,y:j.get(i).y}):a.p8.to(t,{x:data.procedure[data.currentSlide][e].coords.x,y:data.procedure[data.currentSlide][e].coords.y,scale:.5}))}});const O=()=>{let t=[];return P.forEach((e=>{data.procedure[data.currentSlide][e].position||t.push(!1)})),t};for(;O().length>0;)await(0,s._v)(100);for(;C;)await(0,s._v)(100);for(C=!0,(0,u.hY)(`./cultures/${data.culture}/audio/sqr-next-red.mp3`),a.p8.to(_,{autoAlpha:.5,pointerEvents:"none"}),a.p8.timeline().to(_,{filter:"drop-shadow(0px 0px 14px #a90707)",delay:1,repeat:-1,yoyo:!0,reversed:!0});C;)await(0,s._v)(100);a.p8.to(_,{autoAlpha:1,pointerEvents:"visible"}),await(0,n.c)(_.id)}},7103:(t,e,i)=>{i.d(e,{c:()=>r});const r=t=>new Promise((e=>{const i=t=>{const i=t.target;return e(i)};"string"==typeof t&&document.getElementById(t).addEventListener("click",i,{once:!0}),Array.isArray(t)&&t.forEach((t=>{document.getElementById(t).addEventListener("click",i,{once:!0})})),void 0===t&&document.getElementById("wrapper").addEventListener("click",i,{once:!0})}))}}]);