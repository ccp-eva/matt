"use strict";(self.webpackChunkmatt=self.webpackChunkmatt||[]).push([[6657],{6657:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n=a(6358),o=a(6486),i=a.n(o),s=a(5919),r=a(5212),d=a.n(r),c=a(9965),u=a(7103),l=a(8503),p=a(1489);const m=async()=>{const e=document.getElementById("sr1h1cow-oneHuman"),t=document.getElementById("sr1h1cow-cantDecide"),a=document.getElementById("sr1h1cow-oneCow"),o=document.getElementById("player");n.p8.set(o,{autoAlpha:0}),data.procedure.sReasoning1Hu1Co={duration:0,response:"",textInput:"",isText:!1,isVoice:!1,voiceExplanation:!1};const r=document.getElementById("link-sr1h1cow-next");r.style.pointerEvents="none",n.p8.set(r,{autoAlpha:.25});const m=document.getElementById("sr1h1cow-wr"),h=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");[...m.attributes].map((({name:e,value:t})=>h.setAttribute(e,t))),h.removeAttribute("fill"),m.replaceWith(h),h.innerHTML='\n<div id="response-wrapper-reasoning-cow" style="margin-top: -5px;">\n\t<div id="toggle" style="width: 9em; margin: 0 auto;">\n\t\t<input id="chck" type="checkbox" />\n\t\t<label for="chck" class="check-trail" style="scale: 0.8;"><span class="check-handler"></span> </label>\n\t</div>\n\n\t<div id="response-area">\n\t\t<textarea\n\t\t\tid="text-response"\n\t\t\tmaxlength="2000"\n\t\t\trows="3"\n\t\t\tstyle="pointer-events: auto; height: 100%"\n\t\t></textarea>\n\t\t<button type="button" id="voice-response" style="display: none; font-size: 2rem; margin: 3% auto; pointer-events: auto; opacity: 1; visibility: inherit;">ðŸŽ¤ Record</button>\n\t</div>\n</div>\n',n.p8.timeline().to(o,{autoAlpha:1,duration:2,onStart:()=>{o.src=`./cultures/${data.culture}/video/s-transition-11.webm`}}).to(o,{autoAlpha:0,delay:10.5});let g=!0,v=!1,w=!1;data.procedure.s1Hu1Co&&(g=data.procedure.s1Hu1Co.response.toLowerCase().includes("-onehuman"),v=data.procedure.s1Hu1Co.response.toLowerCase().includes("-onecow"),w=data.procedure.s1Hu1Co.response.toLowerCase().includes("-cantdecide")),g&&e.classList.add("dilemma-card-fix"),w&&t.classList.add("dilemma-card-fix"),v&&a.classList.add("dilemma-card-fix"),n.p8.set("#response-wrapper-reasoning-cow",{autoAlpha:0}),(0,p.TH)(i().kebabCase(data.currentSlide),i().kebabCase(data.previousSlide),[2,2]),await(0,l._v)(13e3),await(0,c.bA)(`./cultures/${data.culture}/audio/sr1h1cow-left.mp3`),g&&await(0,c.bA)(`./cultures/${data.culture}/audio/srw-human.mp3`),w&&await(0,c.bA)(`./cultures/${data.culture}/audio/srw-cantDecide.mp3`),v&&await(0,c.bA)(`./cultures/${data.culture}/audio/srw-cow.mp3`),n.p8.timeline().to(o,{autoAlpha:1,onStart:()=>{o.src=`./cultures/${data.culture}/video/s-ex-next-red-textInput.webm`}}).to("#response-wrapper-reasoning-cow",{autoAlpha:1}).to(o,{delay:5,autoAlpha:0});const y=document.getElementById("text-response"),E=document.getElementById("voice-response"),b=document.querySelector(".check-trail"),A=document.getElementById("chck");A.addEventListener("change",(()=>{A.checked&&n.p8.timeline().to(y,{onStart:()=>{data.procedure.sReasoning1Hu1Co.voiceExplanation||(data.procedure.sReasoning1Hu1Co.voiceExplanation=!0,n.p8.timeline().to(o,{autoAlpha:1}),o.src=`./cultures/${data.culture}/video/sr-ex-next-red-audioInput.webm`,n.p8.timeline().to(o,{autoAlpha:0,delay:6}))},autoAlpha:0,duration:.25,pointerEvents:"none",display:"none"}).to(E,{autoAlpha:1,duration:.25,pointerEvents:"auto",display:"block"},">"),A.checked||n.p8.timeline().to(E,{autoAlpha:0,duration:.25,pointerEvents:"none",display:"none"}).to(y,{autoAlpha:1,duration:.25,pointerEvents:"auto",display:"block"},">")})),E.addEventListener("click",(async()=>{data.procedure.sReasoning1Hu1Co.isText=!1,data.procedure.sReasoning1Hu1Co.isVoice=!0;let e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new(d().RecordRTCPromisesHandler)(e,{type:"audio"});t.startRecording(),E.innerText="ðŸ›‘ Stop Recording",E.addEventListener("click",(async()=>{await t.stopRecording();let e=await t.getBlob();d().invokeSaveAsDialog(e,`s-reasoning-1h1co-${data.id}`),r.style.pointerEvents="auto",n.p8.timeline().to(r,{autoAlpha:1})}))})),y.addEventListener("input",(()=>{y.value.length>=s.Z.globals.minimumTextInputLength?(data.procedure.sReasoning1Hu1Co.isText=!0,data.procedure.sReasoning1Hu1Co.isVoice=!1,r.style.pointerEvents="auto",b.style.pointerEvents="none",n.p8.timeline().to(r,{autoAlpha:1,duration:.25}).to(".check-trail",{autoAlpha:.25,duration:.25},"<")):(r.style.pointerEvents="none",b.style.pointerEvents="auto",n.p8.timeline().to(r,{autoAlpha:.25}).to(".check-trail",{autoAlpha:1,duration:.25},"<"))}));const x=await(0,u.c)(r.id);console.log(x.id),data.procedure.sReasoning1Hu1Co.textInput=y.value,console.log(data.procedure.sReasoning1Hu1Co.textInput),data.procedure[data.currentSlide].response=x.id,await(0,l._v)(500)}},7103:(e,t,a)=>{a.d(t,{c:()=>n});const n=e=>new Promise((t=>{const a=e=>{const a=e.target;return t(a)};"string"==typeof e&&document.getElementById(e).addEventListener("click",a,{once:!0}),Array.isArray(e)&&e.forEach((e=>{document.getElementById(e).addEventListener("click",a,{once:!0})})),void 0===e&&document.getElementById("wrapper").addEventListener("click",a,{once:!0})}))}}]);